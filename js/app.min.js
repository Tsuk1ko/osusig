$(function(){function c(){if((new Date).getTime()>=f+500){f=(new Date).getTime();var a;a="sig.php?colour="+d.replace("#","hex");a+="&uname="+encodeURIComponent($("input[name=uname]").val()||"Mashir0");0<b&&(a+="&mode="+b);a+=0<=e?"&pp="+e:"";a+=$("input[name=country-rank]").prop("checked")?"&countryrank":"";a+=$("input[name=adv-av-margin]").prop("checked")?"&removeavmargin":"";a+=$("input[name=adv-flag-shadow]").prop("checked")?"&flagshadow":"";a+=$("input[name=adv-flag-stroke]").prop("checked")?"&flagstroke":"";a+=$("input[name=adv-dark-header]").prop("checked")?"&darkheader":"";a+=$("input[name=adv-dark-triangles]").prop("checked")?"&darktriangles":"";a+=$("input[name=adv-opaque-avatar]").prop("checked")?"&opaqueavatar":"";a+=$("input[name=adv-avatar-rounding]").prop("checked")?"&avatarrounding="+$("input[name=adv-avatar-rounding-num]").val():"";a+=$("input[name=adv-ranked-score]").prop("checked")?"&rankedscore":"";a+=$("input[name=adv-xp-bar]").prop("checked")?"&xpbar":"";a+=$("input[name=adv-xp-bar-hex]").prop("checked")?"&xpbarhex":"";var c="https://osusig.lolico.moe/"+a;$("img.preview").remove();a=$("<img />",{class:"preview lazy",width:338,height:94,src:a});$("#previewarea").append(a);$("input[name=out]").val(c)}}var d="yellow",b=0,e=-1,f=0;$("#regen").click(function(a){a.preventDefault();a.stopPropagation();c();$("#uname").select()});$("#uname").keypress(function(a){13===a.which&&(a.preventDefault(),a.stopPropagation(),c(),this.select())}).focus();$("#out").click(function(){this.select()});$("#hex-picker").spectrum({color:$(".colours li.selected").css("background-color"),showInput:!0,preferredFormat:"hex",flat:!0,chooseText:"",cancelText:"",change:function(a){$("#colour-hex").css("background-color",a.toHexString());d=a.toHexString()},move:function(a){$("#colour-hex").css("background-color",a.toHexString());d=a.toHexString()}});$($("#hex-picker").spectrum("container")).hide();$(".colours li").each(function(){$(this).click(function(){$(".colours li").each(function(){$(this).removeClass("selected")});$(this).addClass("selected");d=$(this).attr("id").replace("colour-","");"colour-hex"==$(this).attr("id")?$($("#hex-picker").spectrum("container")).slideDown():($("#colour-hex").css("background-color",$(this).css("background-color")),$("#hex-picker").spectrum("set",$(this).css("background-color")),$($("#hex-picker").spectrum("container")).slideUp())})});$(".modes li").each(function(){$(this).click(function(){$(".modes li").each(function(){$(this).removeClass("selected")});$(this).addClass("selected");$(this).hasClass("osu")?b=0:$(this).hasClass("taiko")?b=1:$(this).hasClass("ctb")?b=2:$(this).hasClass("mania")&&(b=3)})});$(".ppmodes li").each(function(){$(this).click(function(){$(".ppmodes li").each(function(){$(this).removeClass("selected")});$(this).addClass("selected");e=$(this).attr("id").replace("ppmode-","")})});$("input[name=adv-avatar-rounding]").change(function(){$("input[name=adv-avatar-rounding-num]").prop("disabled",!$(this).is(":checked"))});$("input[name=adv-xp-bar]").change(function(){$("input[name=adv-xp-bar-hex]").prop("disabled",!$(this).is(":checked"))})});
